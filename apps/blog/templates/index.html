{% extends 'base.html' %}
{% load static %}

{% block style %}
<link rel="stylesheet" href="{% static 'css/blog_styles/index.css' %}">
{% endblock %}

{% block jumbo %}
<!-- <h1 class="lead">Las nuevas novedades, temporadas, guías y eventos de los videojuegos</h1> -->

{% if user.is_superuser %}
	<a href="{% url 'addPost' %}" class="btn btn-outline-dark">Nuevo Articulo</a>
{% endif %}

<div class="card-carousel">
	<div class="card card-body">
			<div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
					<div class="carousel-inner">
						<div class="carousel-item active">
							<img class="d-block w-100" src="{% static 'img/wiki_images/gamers.jpg' %}" alt="First slide">
						</div>
						<div class="carousel-item">
							<img class="d-block w-100" src="{% static 'img/wiki_images/teams.jpg' %}" alt="Second slide">
						</div>
						<div class="carousel-item">
							<img class="d-block w-100" src="{% static 'img/wiki_images/videogames.jpg' %}" alt="Third slide">
						</div>
					</div>
					<a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
						<span class="carousel-control-prev-icon" aria-hidden="true"></span>
						<span class="sr-only">Previous</span>
					</a>
					<a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
						<span class="carousel-control-next-icon" aria-hidden="true"></span>
						<span class="sr-only">Next</span>
					</a>
				</div>
	</div>
</div>

{% endblock %}

{% block content %}
	<div class="post-section mt-5">
	{% for post in posts %}
	<div class="post-wrapper">

		<a href="{% url 'detailPost' slug=post.slug %}" class="postLink">
			<div class="post-wrapper-top">
				<div class="img-wrapper">
					<img class="post-img post-img-1" src="{% get_media_prefix %}{{ post.img }}">
					<img src="{% static 'img/fondoLeer.png' %}" alt="" class="post-img post-img-2">
				</div>
				<div class="post-info">
					<h3 class="post-title">{{ post.title }}</h3>
					<label class="post-date">{{ post.created_at|date:"d M, Y" }}</label>
					<p class="post-desc">{{ post.content|truncatechars:200 }}</p>
				</div>
			</div>
		</a>
		{% if user.is_superuser %}
			<div class="post-wrapper-bot">
				<a href="{% url 'detailPost' slug=post.slug %}" class="btn btn-dark btn-infinity">Seguir Leyendo</a>
			
				<div class="ml-5 btn-edit">
					<a href="{% url 'editPost' pk=post.pk %}" class="btn btn-success">Editar</a>
					<a href="{% url 'deletePost' pk=post.pk %}" class="btn btn-danger">Eliminar</a>
				</div>
			</div>
		{% endif %}
	</div>
	{% endfor %}
	</div>

	<div class="pagination my-5 justify-content-center">
		<span class="step-links">
			{% if posts.has_previous %}
				<a class="btn btn-outline-dark" href="?page={{ posts.previous_page_number }}">Anterior</a>
			{% endif %}
	
			<span class="current mx-3">
				Página {{ posts.number }} de {{ posts.paginator.num_pages }}.
			</span>
	
			{% if posts.has_next %}
				<a class="btn btn-outline-dark" href="?page={{ posts.next_page_number }}">Siguiente</a>
			{% endif %}
		</span>
	</div>

{% endblock %}
