{% extends 'base.html' %}
{% load static %}

{% block style %}
<link rel="stylesheet" href="{% static 'css/blog_styles/index.css' %}">
{% endblock %}

{% block jumbo %}
<h1 class="lead">Las nuevas novedades, temporadas, guías y eventos de los videojuegos</h1>

{% if user.is_superuser %}
	<a href="{% url 'addPost' %}" class="btn btn-outline-dark">Nuevo Articulo</a>
{% endif %}

{% endblock %}

{% block content %}
	<div class="post-section mt-5">
	{% for post in posts %}
	<div class="post-wrapper">

		<a href="{% url 'detailPost' slug=post.slug %}" class="postLink">
			<div class="post-wrapper-top">
				<img class="post-img" src="{% get_media_prefix %}{{ post.img }}" width="280" height="160">
				<div class="post-info">
					<h3 class="post-title">{{ post.title }}</h3>
					<label>{{ post.created_at|date:"d M, Y" }}</label>
					<p>{{ post.content|truncatechars:200 }}</p>
				</div>
			</div>
		</a>
		{% if user.is_superuser %}
			<div class="post-wrapper-bot">
				<a href="{% url 'detailPost' slug=post.slug %}" class="btn btn-dark btn-infinity">Seguir Leyendo</a>
			
				<div class="ml-5 btn-edit">
					<a href="{% url 'editPost' pk=post.pk %}" class="btn btn-success">Editar</a>
					<a href="{% url 'deletePost' pk=post.pk %}" class="btn btn-danger">Eliminar</a>
				</div>
			</div>
		{% endif %}
	</div>
	{% endfor %}
	</div>

	<div class="pagination my-5 justify-content-center">
		<span class="step-links">
			{% if posts.has_previous %}
				<a class="btn btn-outline-dark" href="?page={{ posts.previous_page_number }}">Anterior</a>
			{% endif %}
	
			<span class="current mx-3">
				Página {{ posts.number }} de {{ posts.paginator.num_pages }}.
			</span>
	
			{% if posts.has_next %}
				<a class="btn btn-outline-dark" href="?page={{ posts.next_page_number }}">Siguiente</a>
			{% endif %}
		</span>
	</div>

{% endblock %}
